<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Finance Toolkit - Enterprise Financial Modeling</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%);
            color: #e4e4e7;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            color: #9ca3af;
            font-size: 1.1rem;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #9ca3af;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .input-wrapper {
            position: relative;
        }

        .input-wrapper input,
        .input-wrapper select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-wrapper input:focus,
        .input-wrapper select:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-addon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 0.9rem;
        }

        .btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result-box {
            margin-top: 25px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .result-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #fff;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 20px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .metric-label {
            color: #6b7280;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #6b7280;
            font-size: 0.9rem;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #22c55e;
            margin-bottom: 20px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="live-indicator">
                <span class="live-dot"></span>
                <span>Interactive Demo</span>
            </div>
            <h1>Financial Calculator Suite</h1>
            <p>Try these working calculators - Enter your own values and click Calculate to see results</p>
        </div>

        <!-- Instructions Banner -->
        <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(139, 92, 246, 0.05)); border: 1px solid rgba(102, 126, 234, 0.2); border-radius: 12px; padding: 15px; margin-bottom: 30px; text-align: center;">
            <h3 style="color: #667eea; margin-bottom: 10px;">üìä How to Use This Demo</h3>
            <p style="color: #9ca3af; margin-bottom: 10px;">Each calculator below is fully functional. Try them out:</p>
            <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                <span style="color: #e4e4e7;">1Ô∏è‚É£ Enter your values</span>
                <span style="color: #e4e4e7;">2Ô∏è‚É£ Click Calculate</span>
                <span style="color: #e4e4e7;">3Ô∏è‚É£ See instant results</span>
            </div>
        </div>

        <div class="grid">
            <!-- Compound Interest Calculator -->
            <div class="card">
                <h2>
                    <div class="icon">üìä</div>
                    Compound Interest Calculator
                </h2>
                
                <!-- Educational Context -->
                <div style="background: rgba(102, 126, 234, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid #667eea;">
                    <p style="color: #e4e4e7; font-size: 0.9rem; margin-bottom: 8px;">
                        <strong>What it does:</strong> Calculates how your money grows over time with compound interest - "interest on interest"
                    </p>
                    <p style="color: #9ca3af; font-size: 0.85rem; margin: 0;">
                        <strong>Used for:</strong> Savings accounts, investments, retirement planning ‚Ä¢ <strong>Formula:</strong> A = P(1 + r/n)^(nt)
                    </p>
                </div>

                <div class="input-group">
                    <label>Principal Amount ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="principal" value="10000" min="0" step="100">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Annual Interest Rate (%)</label>
                    <div class="input-wrapper">
                        <input type="number" id="rate" value="7" min="0" max="100" step="0.1">
                        <span class="input-addon">%</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Investment Period (Years)</label>
                    <div class="input-wrapper">
                        <input type="number" id="time" value="10" min="1" max="50">
                        <span class="input-addon">YRS</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Compound Frequency</label>
                    <select id="frequency">
                        <option value="1">Annually</option>
                        <option value="2">Semi-Annually</option>
                        <option value="4">Quarterly</option>
                        <option value="12" selected>Monthly</option>
                        <option value="365">Daily</option>
                    </select>
                </div>
                <button class="btn" onclick="calculateCompound()">Calculate Returns</button>
                <div class="result-box" id="compoundResult" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Final Amount</span>
                        <span class="result-value" id="finalAmount">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Total Interest</span>
                        <span class="result-value" id="totalInterest">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ROI</span>
                        <span class="result-value" id="roi">0%</span>
                    </div>
                </div>
            </div>

            <!-- Loan Amortization -->
            <div class="card">
                <h2>
                    <div class="icon">üí∞</div>
                    Loan Amortization
                </h2>
                
                <!-- Educational Context -->
                <div style="background: rgba(102, 126, 234, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid #667eea;">
                    <p style="color: #e4e4e7; font-size: 0.9rem; margin-bottom: 8px;">
                        <strong>What it does:</strong> Calculates monthly payments and total interest for loans
                    </p>
                    <p style="color: #9ca3af; font-size: 0.85rem; margin: 0;">
                        <strong>Used for:</strong> Mortgages, auto loans, personal loans ‚Ä¢ Shows how much goes to principal vs interest
                    </p>
                </div>

                <div class="input-group">
                    <label>Loan Amount ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="loanAmount" value="250000" min="0" step="1000">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Interest Rate (%)</label>
                    <div class="input-wrapper">
                        <input type="number" id="loanRate" value="4.5" min="0" max="30" step="0.1">
                        <span class="input-addon">%</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Loan Term (Years)</label>
                    <div class="input-wrapper">
                        <input type="number" id="loanTerm" value="30" min="1" max="50">
                        <span class="input-addon">YRS</span>
                    </div>
                </div>
                <button class="btn" onclick="calculateLoan()">Calculate Payment</button>
                <div class="result-box" id="loanResult" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Monthly Payment</span>
                        <span class="result-value" id="monthlyPayment">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Total Paid</span>
                        <span class="result-value" id="totalPaid">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Total Interest</span>
                        <span class="result-value" id="loanInterest">$0</span>
                    </div>
                </div>
            </div>

            <!-- ROI Calculator -->
            <div class="card">
                <h2>
                    <div class="icon">üìà</div>
                    ROI & NPV Analysis
                </h2>
                
                <!-- Educational Context -->
                <div style="background: rgba(102, 126, 234, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid #667eea;">
                    <p style="color: #e4e4e7; font-size: 0.9rem; margin-bottom: 8px;">
                        <strong>What it does:</strong> Evaluates investment profitability using Net Present Value
                    </p>
                    <p style="color: #9ca3af; font-size: 0.85rem; margin: 0;">
                        <strong>Used for:</strong> Business investments, project evaluation ‚Ä¢ NPV > 0 means profitable investment
                    </p>
                </div>

                <div class="input-group">
                    <label>Initial Investment ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="investment" value="50000" min="0" step="1000">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Annual Cash Flow ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="cashFlow" value="15000" min="0" step="100">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Discount Rate (%)</label>
                    <div class="input-wrapper">
                        <input type="number" id="discountRate" value="10" min="0" max="100" step="0.1">
                        <span class="input-addon">%</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Project Duration (Years)</label>
                    <div class="input-wrapper">
                        <input type="number" id="duration" value="5" min="1" max="30">
                        <span class="input-addon">YRS</span>
                    </div>
                </div>
                <button class="btn" onclick="calculateROI()">Analyze Investment</button>
                <div class="result-box" id="roiResult" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Net Present Value</span>
                        <span class="result-value" id="npv">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">ROI</span>
                        <span class="result-value" id="roiPercent">0%</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Payback Period</span>
                        <span class="result-value" id="payback">0 years</span>
                    </div>
                </div>
            </div>

            <!-- Investment Growth Chart -->
            <div class="card" style="grid-column: span 2;">
                <h2>
                    <div class="icon">üìä</div>
                    Portfolio Growth Projection
                    <span class="badge">Monte Carlo Simulation</span>
                </h2>
                
                <!-- Educational Context -->
                <div style="background: rgba(102, 126, 234, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid #667eea;">
                    <p style="color: #e4e4e7; font-size: 0.9rem; margin-bottom: 8px;">
                        <strong>What this shows:</strong> Three investment scenarios based on different risk levels and expected returns
                    </p>
                    <p style="color: #9ca3af; font-size: 0.85rem; margin: 0;">
                        <strong>Conservative (5%):</strong> Bonds, CDs ‚Ä¢ <strong>Expected (12.5%):</strong> Balanced portfolio ‚Ä¢ <strong>Aggressive (20%):</strong> Growth stocks
                    </p>
                </div>

                <div class="chart-container">
                    <canvas id="growthChart"></canvas>
                </div>
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-value" id="expectedReturn">12.5%</div>
                        <div class="metric-label">Expected Return</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="volatility">8.2%</div>
                        <div class="metric-label">Volatility</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="sharpeRatio">1.52</div>
                        <div class="metric-label">Sharpe Ratio</div>
                    </div>
                </div>
            </div>

            <!-- Options Pricing -->
            <div class="card">
                <h2>
                    <div class="icon">üéØ</div>
                    Black-Scholes Options
                </h2>
                
                <!-- Educational Context -->
                <div style="background: rgba(102, 126, 234, 0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 3px solid #667eea;">
                    <p style="color: #e4e4e7; font-size: 0.9rem; margin-bottom: 8px;">
                        <strong>What it does:</strong> Calculates fair value of options using Nobel Prize-winning formula
                    </p>
                    <p style="color: #9ca3af; font-size: 0.85rem; margin: 0;">
                        <strong>Used for:</strong> Options trading, derivatives pricing ‚Ä¢ Industry standard for option valuation
                    </p>
                </div>

                <div class="input-group">
                    <label>Stock Price ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="stockPrice" value="100" min="0" step="1">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Strike Price ($)</label>
                    <div class="input-wrapper">
                        <input type="number" id="strikePrice" value="105" min="0" step="1">
                        <span class="input-addon">USD</span>
                    </div>
                </div>
                <div class="input-group">
                    <label>Volatility (%)</label>
                    <div class="input-wrapper">
                        <input type="number" id="volatilityInput" value="20" min="0" max="200" step="1">
                        <span class="input-addon">%</span>
                    </div>
                </div>
                <button class="btn" onclick="calculateOption()">Price Option</button>
                <div class="result-box" id="optionResult" style="display:none;">
                    <div class="result-item">
                        <span class="result-label">Call Price</span>
                        <span class="result-value" id="callPrice">$0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Put Price</span>
                        <span class="result-value" id="putPrice">$0</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Professional Finance Toolkit ¬© 2024 | Powered by Advanced Financial Algorithms</p>
        </div>
    </div>

    <script>
        // Initialize chart
        const ctx = document.getElementById('growthChart').getContext('2d');
        const growthChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5', 'Year 10', 'Year 15', 'Year 20'],
                datasets: [{
                    label: 'Expected Growth',
                    data: [10000, 11250, 12656, 14238, 16018, 32473, 65838, 133535],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Conservative',
                    data: [10000, 10500, 11025, 11576, 12155, 19672, 31864, 51598],
                    borderColor: '#22c55e',
                    backgroundColor: 'rgba(34, 197, 94, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Aggressive',
                    data: [10000, 12000, 14400, 17280, 20736, 53687, 139007, 360096],
                    borderColor: '#f59e0b',
                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        labels: {
                            color: '#9ca3af'
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)'
                        },
                        ticks: {
                            color: '#9ca3af',
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)'
                        },
                        ticks: {
                            color: '#9ca3af'
                        }
                    }
                }
            }
        });

        function calculateCompound() {
            const principal = parseFloat(document.getElementById('principal').value);
            const rate = parseFloat(document.getElementById('rate').value) / 100;
            const time = parseFloat(document.getElementById('time').value);
            const frequency = parseFloat(document.getElementById('frequency').value);
            
            const amount = principal * Math.pow((1 + rate/frequency), frequency * time);
            const interest = amount - principal;
            const roiValue = ((amount - principal) / principal * 100);
            
            document.getElementById('finalAmount').textContent = '$' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('totalInterest').textContent = '$' + interest.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('roi').textContent = roiValue.toFixed(2) + '%';
            document.getElementById('compoundResult').style.display = 'block';
            
            // Add explanation
            const resultBox = document.getElementById('compoundResult');
            let explanation = resultBox.querySelector('.explanation');
            if (!explanation) {
                explanation = document.createElement('div');
                explanation.className = 'explanation';
                explanation.style.cssText = 'margin-top: 15px; padding: 10px; background: rgba(102,126,234,0.05); border-radius: 6px; font-size: 0.85rem; color: #9ca3af;';
                resultBox.appendChild(explanation);
            }
            explanation.innerHTML = `üí° Your $${principal.toLocaleString()} investment will grow to <strong style="color: #10b981;">$${amount.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</strong> in ${time} years at ${(rate*100).toFixed(1)}% annual interest`;
            
            updateChart(principal, amount, time);
        }

        function calculateLoan() {
            const principal = parseFloat(document.getElementById('loanAmount').value);
            const annualRate = parseFloat(document.getElementById('loanRate').value) / 100;
            const years = parseFloat(document.getElementById('loanTerm').value);
            
            const monthlyRate = annualRate / 12;
            const numPayments = years * 12;
            
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / 
                                  (Math.pow(1 + monthlyRate, numPayments) - 1);
            
            const totalPaid = monthlyPayment * numPayments;
            const totalInterest = totalPaid - principal;
            
            document.getElementById('monthlyPayment').textContent = '$' + monthlyPayment.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('totalPaid').textContent = '$' + totalPaid.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('loanInterest').textContent = '$' + totalInterest.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('loanResult').style.display = 'block';
        }

        function calculateROI() {
            const investment = parseFloat(document.getElementById('investment').value);
            const cashFlow = parseFloat(document.getElementById('cashFlow').value);
            const discountRate = parseFloat(document.getElementById('discountRate').value) / 100;
            const duration = parseFloat(document.getElementById('duration').value);
            
            let npv = -investment;
            for (let i = 1; i <= duration; i++) {
                npv += cashFlow / Math.pow(1 + discountRate, i);
            }
            
            const totalReturn = cashFlow * duration;
            const roi = ((totalReturn - investment) / investment * 100);
            const paybackPeriod = investment / cashFlow;
            
            document.getElementById('npv').textContent = '$' + npv.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            document.getElementById('roiPercent').textContent = roi.toFixed(2) + '%';
            document.getElementById('payback').textContent = paybackPeriod.toFixed(1) + ' years';
            document.getElementById('roiResult').style.display = 'block';
        }

        function calculateOption() {
            const S = parseFloat(document.getElementById('stockPrice').value);
            const K = parseFloat(document.getElementById('strikePrice').value);
            const sigma = parseFloat(document.getElementById('volatilityInput').value) / 100;
            const r = 0.05; // Risk-free rate
            const T = 1; // Time to expiration (1 year)
            
            // Black-Scholes formula
            const d1 = (Math.log(S/K) + (r + sigma*sigma/2) * T) / (sigma * Math.sqrt(T));
            const d2 = d1 - sigma * Math.sqrt(T);
            
            const callPrice = S * normalCDF(d1) - K * Math.exp(-r * T) * normalCDF(d2);
            const putPrice = K * Math.exp(-r * T) * normalCDF(-d2) - S * normalCDF(-d1);
            
            document.getElementById('callPrice').textContent = '$' + callPrice.toFixed(2);
            document.getElementById('putPrice').textContent = '$' + putPrice.toFixed(2);
            document.getElementById('optionResult').style.display = 'block';
        }

        function normalCDF(x) {
            const a1 = 0.254829592;
            const a2 = -0.284496736;
            const a3 = 1.421413741;
            const a4 = -1.453152027;
            const a5 = 1.061405429;
            const p = 0.3275911;
            
            const sign = x < 0 ? -1 : 1;
            x = Math.abs(x) / Math.sqrt(2.0);
            
            const t = 1.0 / (1.0 + p * x);
            const y = 1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
            
            return 0.5 * (1.0 + sign * y);
        }

        function updateChart(principal, finalAmount, years) {
            const dataPoints = [];
            for (let i = 0; i <= years; i++) {
                const value = principal * Math.pow((finalAmount/principal), i/years);
                dataPoints.push(value);
            }
            
            growthChart.data.datasets[0].data = dataPoints;
            growthChart.data.labels = Array.from({length: years + 1}, (_, i) => `Year ${i}`);
            growthChart.update();
        }

        // Initialize with default values
        calculateCompound();
    </script>
</body>
</html>