<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Executive P&L Dashboard - Real-Time Financial Intelligence</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
            color: #e4e4e7;
            min-height: 100vh;
        }

        /* Executive Header */
        .executive-header {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 20px 40px;
        }

        .header-content {
            max-width: 1800px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .company-info h1 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .company-info p {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        .period-selector {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.05);
            padding: 5px;
            border-radius: 8px;
        }

        .period-btn {
            padding: 8px 16px;
            background: transparent;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .period-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        /* Key Metrics Bar */
        .metrics-bar {
            padding: 30px 40px;
            background: rgba(255, 255, 255, 0.01);
        }

        .metrics-container {
            max-width: 1800px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 25px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .metric-card.negative::before {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .metric-card.warning::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
        }

        .metric-label {
            font-size: 0.85rem;
            color: #9ca3af;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 10px;
        }

        .metric-change {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .metric-change.positive {
            color: #10b981;
        }

        .metric-change.negative {
            color: #ef4444;
        }

        .metric-sparkline {
            margin-top: 15px;
            height: 40px;
        }

        /* Main Dashboard */
        .dashboard-container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 0 40px 40px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .panel {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 25px;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .panel-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
        }

        .panel-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: #9ca3af;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
            color: #fff;
        }

        /* P&L Table */
        .pl-table {
            width: 100%;
            border-collapse: collapse;
        }

        .pl-table th {
            text-align: left;
            padding: 12px;
            font-size: 0.85rem;
            color: #6b7280;
            font-weight: 500;
            border-bottom: 2px solid rgba(255, 255, 255, 0.05);
        }

        .pl-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        }

        .pl-table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .pl-category {
            font-weight: 600;
            color: #fff;
        }

        .pl-subcategory {
            padding-left: 30px;
            color: #9ca3af;
        }

        .amount {
            text-align: right;
            font-family: 'SF Mono', 'Monaco', monospace;
        }

        .amount.positive {
            color: #10b981;
        }

        .amount.negative {
            color: #ef4444;
        }

        .variance {
            text-align: right;
            font-size: 0.85rem;
        }

        .variance.favorable {
            color: #10b981;
        }

        .variance.unfavorable {
            color: #ef4444;
        }

        /* Department Breakdown */
        .dept-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .dept-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .dept-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .dept-name {
            font-weight: 600;
            color: #fff;
        }

        .dept-profit {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .dept-metrics {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .dept-metric {
            text-align: center;
        }

        .dept-metric-value {
            font-weight: 600;
            color: #fff;
        }

        .dept-metric-label {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 3px;
        }

        /* Charts */
        .chart-container {
            position: relative;
            height: 300px;
        }

        .chart-container.small {
            height: 200px;
        }

        /* Alert Box */
        .alert-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            background: rgba(239, 68, 68, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .alert-content h3 {
            color: #fff;
            margin-bottom: 5px;
        }

        .alert-content p {
            color: #9ca3af;
            font-size: 0.9rem;
        }

        /* Bottom Grid */
        .bottom-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
        }

        /* Forecast Badge */
        .forecast-badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .forecast-badge.at-risk {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        /* Executive Summary */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .summary-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 5px;
        }

        .summary-label {
            font-size: 0.8rem;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <!-- Executive Header -->
    <div class="executive-header">
        <div class="header-content">
            <div class="company-info">
                <h1>Executive P&L Dashboard Demo</h1>
                <p>Financial reporting dashboard demonstration | Sample data for illustration</p>
            </div>
            <div class="period-selector">
                <button class="period-btn">Daily</button>
                <button class="period-btn active">Monthly</button>
                <button class="period-btn">Quarterly</button>
                <button class="period-btn">YTD</button>
            </div>
        </div>
    </div>

    <!-- Key Metrics Bar -->
    <div class="metrics-bar">
        <div class="metrics-container">
            <div class="metric-card">
                <div class="metric-label">Net Revenue</div>
                <div class="metric-value">$142.8M</div>
                <div class="metric-change positive">
                    <span>↑</span> 12.4% vs Last Month
                </div>
                <div class="metric-sparkline">
                    <canvas id="revenueSparkline"></canvas>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Gross Profit</div>
                <div class="metric-value">$58.3M</div>
                <div class="metric-change positive">
                    <span>↑</span> 8.7% vs Last Month
                </div>
                <div class="metric-sparkline">
                    <canvas id="grossSparkline"></canvas>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">EBITDA</div>
                <div class="metric-value">$31.2M</div>
                <div class="metric-change positive">
                    <span>↑</span> 15.3% vs Last Month
                </div>
                <div class="metric-sparkline">
                    <canvas id="ebitdaSparkline"></canvas>
                </div>
            </div>

            <div class="metric-card negative">
                <div class="metric-label">Operating Expenses</div>
                <div class="metric-value">$27.1M</div>
                <div class="metric-change negative">
                    <span>↑</span> 5.2% vs Budget
                </div>
                <div class="metric-sparkline">
                    <canvas id="expenseSparkline"></canvas>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-label">Net Profit Margin</div>
                <div class="metric-value">21.8%</div>
                <div class="metric-change positive">
                    <span>↑</span> 2.3pp vs Last Month
                </div>
                <div class="metric-sparkline">
                    <canvas id="marginSparkline"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard-container">
        <!-- Demo Context -->
        <div style="background: linear-gradient(135deg, rgba(102,126,234,0.1), rgba(139,92,246,0.05)); border: 1px solid rgba(102,126,234,0.2); border-radius: 12px; padding: 20px; margin-bottom: 25px;">
            <h3 style="color: #667eea; margin-bottom: 10px;">💼 Executive P&L Dashboard Demo</h3>
            <p style="color: #e4e4e7; margin-bottom: 15px;">This demo shows how executives track financial performance:</p>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px;">
                <div style="text-align: center;">
                    <strong style="color: #10b981;">Revenue vs Budget</strong>
                    <p style="color: #9ca3af; font-size: 0.85rem;">Variance analysis</p>
                </div>
                <div style="text-align: center;">
                    <strong style="color: #10b981;">Department Performance</strong>
                    <p style="color: #9ca3af; font-size: 0.85rem;">Profitability by division</p>
                </div>
                <div style="text-align: center;">
                    <strong style="color: #10b981;">Interactive Charts</strong>
                    <p style="color: #9ca3af; font-size: 0.85rem;">Visual data exploration</p>
                </div>
                <div style="text-align: center;">
                    <strong style="color: #10b981;">Drill-Down Ready</strong>
                    <p style="color: #9ca3af; font-size: 0.85rem;">Click Export or Drill Down</p>
                </div>
            </div>
        </div>

        <!-- Alert Section -->
        <div class="alert-box">
            <div class="alert-icon">⚠️</div>
            <div class="alert-content">
                <h3>Sample Alert: Budget Variance</h3>
                <p>This demonstrates how alerts would appear for budget overruns.</p>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="dashboard-grid">
            <!-- P&L Statement -->
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">
                        Profit & Loss Statement
                        <span class="forecast-badge">ON TRACK</span>
                    </h2>
                    <div class="panel-actions">
                        <button class="action-btn" onclick="exportPL()">Export</button>
                        <button class="action-btn" onclick="drillDown()">Drill Down</button>
                    </div>
                </div>

                <table class="pl-table">
                    <thead>
                        <tr>
                            <th>Line Item</th>
                            <th class="amount">Actual</th>
                            <th class="amount">Budget</th>
                            <th class="variance">Variance</th>
                            <th class="variance">%</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pl-category">Revenue</td>
                            <td class="amount positive">$142,800,000</td>
                            <td class="amount">$135,000,000</td>
                            <td class="variance favorable">$7,800,000</td>
                            <td class="variance favorable">+5.8%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">Product Sales</td>
                            <td class="amount">$98,500,000</td>
                            <td class="amount">$95,000,000</td>
                            <td class="variance favorable">$3,500,000</td>
                            <td class="variance favorable">+3.7%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">Services</td>
                            <td class="amount">$44,300,000</td>
                            <td class="amount">$40,000,000</td>
                            <td class="variance favorable">$4,300,000</td>
                            <td class="variance favorable">+10.8%</td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.02);">
                            <td class="pl-category">Cost of Goods Sold</td>
                            <td class="amount negative">($84,500,000)</td>
                            <td class="amount">($81,000,000)</td>
                            <td class="variance unfavorable">($3,500,000)</td>
                            <td class="variance unfavorable">-4.3%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">Materials</td>
                            <td class="amount negative">($52,300,000)</td>
                            <td class="amount">($50,000,000)</td>
                            <td class="variance unfavorable">($2,300,000)</td>
                            <td class="variance unfavorable">-4.6%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">Labor</td>
                            <td class="amount negative">($32,200,000)</td>
                            <td class="amount">($31,000,000)</td>
                            <td class="variance unfavorable">($1,200,000)</td>
                            <td class="variance unfavorable">-3.9%</td>
                        </tr>
                        <tr style="background: rgba(102,126,234,0.1); font-weight: 700;">
                            <td class="pl-category">Gross Profit</td>
                            <td class="amount positive">$58,300,000</td>
                            <td class="amount">$54,000,000</td>
                            <td class="variance favorable">$4,300,000</td>
                            <td class="variance favorable">+8.0%</td>
                        </tr>
                        <tr>
                            <td class="pl-category">Operating Expenses</td>
                            <td class="amount negative">($27,100,000)</td>
                            <td class="amount">($25,000,000)</td>
                            <td class="variance unfavorable">($2,100,000)</td>
                            <td class="variance unfavorable">-8.4%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">Sales & Marketing</td>
                            <td class="amount negative">($12,400,000)</td>
                            <td class="amount">($10,500,000)</td>
                            <td class="variance unfavorable">($1,900,000)</td>
                            <td class="variance unfavorable">-18.1%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">R&D</td>
                            <td class="amount negative">($8,200,000)</td>
                            <td class="amount">($8,000,000)</td>
                            <td class="variance unfavorable">($200,000)</td>
                            <td class="variance unfavorable">-2.5%</td>
                        </tr>
                        <tr>
                            <td class="pl-subcategory">General & Admin</td>
                            <td class="amount negative">($6,500,000)</td>
                            <td class="amount">($6,500,000)</td>
                            <td class="variance">$0</td>
                            <td class="variance">0.0%</td>
                        </tr>
                        <tr style="background: rgba(102,126,234,0.15); font-weight: 700;">
                            <td class="pl-category">EBITDA</td>
                            <td class="amount positive">$31,200,000</td>
                            <td class="amount">$29,000,000</td>
                            <td class="variance favorable">$2,200,000</td>
                            <td class="variance favorable">+7.6%</td>
                        </tr>
                        <tr style="background: rgba(102,126,234,0.2); font-weight: 700;">
                            <td class="pl-category">Net Income</td>
                            <td class="amount positive">$24,300,000</td>
                            <td class="amount">$22,000,000</td>
                            <td class="variance favorable">$2,300,000</td>
                            <td class="variance favorable">+10.5%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Department Performance -->
            <div>
                <div class="panel" style="margin-bottom: 25px;">
                    <div class="panel-header">
                        <h2 class="panel-title">Department Performance</h2>
                    </div>

                    <div class="dept-grid">
                        <div class="dept-card">
                            <div class="dept-header">
                                <span class="dept-name">Sales - North America</span>
                                <span class="dept-profit positive">$18.2M</span>
                            </div>
                            <div class="dept-metrics">
                                <div class="dept-metric">
                                    <div class="dept-metric-value">124%</div>
                                    <div class="dept-metric-label">of Target</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">32%</div>
                                    <div class="dept-metric-label">Margin</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">+18%</div>
                                    <div class="dept-metric-label">YoY</div>
                                </div>
                            </div>
                        </div>

                        <div class="dept-card">
                            <div class="dept-header">
                                <span class="dept-name">Sales - Europe</span>
                                <span class="dept-profit positive">$12.4M</span>
                            </div>
                            <div class="dept-metrics">
                                <div class="dept-metric">
                                    <div class="dept-metric-value">108%</div>
                                    <div class="dept-metric-label">of Target</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">28%</div>
                                    <div class="dept-metric-label">Margin</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">+12%</div>
                                    <div class="dept-metric-label">YoY</div>
                                </div>
                            </div>
                        </div>

                        <div class="dept-card">
                            <div class="dept-header">
                                <span class="dept-name">Operations</span>
                                <span class="dept-profit negative">-$4.8M</span>
                            </div>
                            <div class="dept-metrics">
                                <div class="dept-metric">
                                    <div class="dept-metric-value">92%</div>
                                    <div class="dept-metric-label">Efficiency</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">-8%</div>
                                    <div class="dept-metric-label">vs Budget</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">-3%</div>
                                    <div class="dept-metric-label">YoY</div>
                                </div>
                            </div>
                        </div>

                        <div class="dept-card">
                            <div class="dept-header">
                                <span class="dept-name">Technology</span>
                                <span class="dept-profit positive">$8.7M</span>
                            </div>
                            <div class="dept-metrics">
                                <div class="dept-metric">
                                    <div class="dept-metric-value">115%</div>
                                    <div class="dept-metric-label">of Target</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">42%</div>
                                    <div class="dept-metric-label">Margin</div>
                                </div>
                                <div class="dept-metric">
                                    <div class="dept-metric-value">+28%</div>
                                    <div class="dept-metric-label">YoY</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cash Flow Summary -->
                <div class="panel">
                    <div class="panel-header">
                        <h2 class="panel-title">Cash Flow Snapshot</h2>
                    </div>
                    <div class="chart-container small">
                        <canvas id="cashFlowChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Grid -->
        <div class="bottom-grid">
            <!-- Revenue Trend -->
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Revenue Trend (12 Months)</h2>
                </div>
                <div class="chart-container">
                    <canvas id="revenueTrendChart"></canvas>
                </div>
            </div>

            <!-- Cost Analysis -->
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Cost Breakdown</h2>
                </div>
                <div class="chart-container">
                    <canvas id="costBreakdownChart"></canvas>
                </div>
            </div>

            <!-- Profitability by Product -->
            <div class="panel">
                <div class="panel-header">
                    <h2 class="panel-title">Product Line Profitability</h2>
                </div>
                <div class="chart-container">
                    <canvas id="productProfitChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Executive Summary -->
        <div class="panel" style="margin-top: 25px;">
            <div class="panel-header">
                <h2 class="panel-title">Executive Summary</h2>
            </div>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-value">$847M</div>
                    <div class="summary-label">Annual Run Rate</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value">18.2%</div>
                    <div class="summary-label">YoY Growth</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value">$124M</div>
                    <div class="summary-label">Cash on Hand</div>
                </div>
                <div class="summary-item">
                    <div class="summary-value">2.8x</div>
                    <div class="summary-label">Revenue Multiple</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize all sparklines
        const sparklineConfig = {
            type: 'line',
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    x: { display: false },
                    y: { display: false }
                },
                elements: {
                    point: { radius: 0 },
                    line: { borderWidth: 2 }
                }
            }
        };

        // Revenue Sparkline
        new Chart(document.getElementById('revenueSparkline'), {
            ...sparklineConfig,
            data: {
                labels: Array(12).fill(''),
                datasets: [{
                    data: [120, 125, 128, 132, 130, 135, 138, 140, 139, 141, 140, 142.8],
                    borderColor: '#10b981',
                    backgroundColor: 'transparent'
                }]
            }
        });

        // Revenue Trend Chart
        const revenueTrendCtx = document.getElementById('revenueTrendChart').getContext('2d');
        new Chart(revenueTrendCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Revenue',
                    data: [120, 125, 128, 132, 130, 135, 138, 140, 139, 141, 140, 142.8],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Profit',
                    data: [20, 21, 22, 23, 22.5, 23.8, 24.2, 24.5, 24.1, 24.3, 24.2, 24.3],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        labels: { color: '#9ca3af' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: {
                            color: '#9ca3af',
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#9ca3af' }
                    }
                }
            }
        });

        // Cost Breakdown Chart
        const costBreakdownCtx = document.getElementById('costBreakdownChart').getContext('2d');
        new Chart(costBreakdownCtx, {
            type: 'doughnut',
            data: {
                labels: ['Materials', 'Labor', 'Marketing', 'R&D', 'Operations', 'Admin'],
                datasets: [{
                    data: [52.3, 32.2, 12.4, 8.2, 14.5, 6.5],
                    backgroundColor: [
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(245, 158, 11, 0.8)',
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(139, 92, 246, 0.8)',
                        'rgba(16, 185, 129, 0.8)',
                        'rgba(156, 163, 175, 0.8)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: { color: '#9ca3af' }
                    }
                }
            }
        });

        // Cash Flow Chart
        const cashFlowCtx = document.getElementById('cashFlowChart').getContext('2d');
        new Chart(cashFlowCtx, {
            type: 'bar',
            data: {
                labels: ['Operating', 'Investing', 'Financing'],
                datasets: [{
                    data: [42.3, -15.2, -8.4],
                    backgroundColor: function(context) {
                        const value = context.raw;
                        return value >= 0 ? 'rgba(16, 185, 129, 0.8)' : 'rgba(239, 68, 68, 0.8)';
                    }
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: {
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: {
                            color: '#9ca3af',
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#9ca3af' }
                    }
                }
            }
        });

        // Product Profitability Chart
        const productProfitCtx = document.getElementById('productProfitChart').getContext('2d');
        new Chart(productProfitCtx, {
            type: 'bar',
            data: {
                labels: ['Product A', 'Product B', 'Product C', 'Services', 'Licensing'],
                datasets: [{
                    label: 'Revenue',
                    data: [45, 38, 28, 44, 12],
                    backgroundColor: 'rgba(102, 126, 234, 0.8)'
                }, {
                    label: 'Profit',
                    data: [18, 12, 8, 22, 8],
                    backgroundColor: 'rgba(16, 185, 129, 0.8)'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        labels: { color: '#9ca3af' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.05)' },
                        ticks: {
                            color: '#9ca3af',
                            callback: function(value) {
                                return '$' + value + 'M';
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#9ca3af' }
                    }
                }
            }
        });

        // Action functions
        function exportPL() {
            alert('Exporting P&L statement to Excel with full drill-down capabilities...');
        }

        function drillDown() {
            alert('Opening detailed transaction view with line-item analysis...');
        }

        // Simulate real-time updates
        setInterval(() => {
            // Update revenue
            const revenueElement = document.querySelector('.metric-value');
            const currentRevenue = parseFloat(revenueElement.textContent.replace('$', '').replace('M', ''));
            const change = (Math.random() - 0.5) * 0.1;
            revenueElement.textContent = '$' + (currentRevenue + change).toFixed(1) + 'M';
        }, 5000);
    </script>
</body>
</html>
